var _=Object.defineProperty;var $=(f,o,l)=>o in f?_(f,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):f[o]=l;var e=(f,o,l)=>($(f,typeof o!="symbol"?o+"":o,l),l);import{d as k,h as P,o as I,i as O,b as E,c as A,j as B}from"./index-z7ELfYwV.js";const H=k({__name:"AuroraBorealisCelebration",setup(f){const o=P(null);class l{constructor(t,i){e(this,"x");e(this,"y");e(this,"radius");e(this,"alpha");e(this,"twinkleSpeed");this.x=Math.random()*t,this.y=Math.random()*i*.5,this.radius=Math.random()*1.2+.5,this.alpha=Math.random()*.5+.5,this.twinkleSpeed=Math.random()*.015+.005}draw(t){this.alpha+=this.twinkleSpeed,(this.alpha>1||this.alpha<.3)&&(this.twinkleSpeed=-this.twinkleSpeed),t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.fillStyle=`rgba(255, 255, 224, ${this.alpha})`,t.fill()}}class y{constructor(t,i,r,g){e(this,"x");e(this,"radiusX");e(this,"maxHeight");e(this,"color");e(this,"height",0);e(this,"opacity",0);e(this,"heightOffset");e(this,"opacityOffset");e(this,"heightSpeed");e(this,"opacitySpeed");this.x=t,this.radiusX=Math.random()*12+4;const m=Math.sin(t/i*Math.PI)*(r*.3);this.maxHeight=(Math.random()*.4+.6)*(r*.4)+m,this.color=g,this.heightOffset=Math.random()*Math.PI*2,this.opacityOffset=Math.random()*Math.PI*2,this.heightSpeed=Math.random()*.01+.005,this.opacitySpeed=Math.random()*.015+.01}update(t){this.height=(Math.sin(t*this.heightSpeed+this.heightOffset)*.5+.95)*this.maxHeight,this.opacity=(Math.sin(t*this.opacitySpeed+this.opacityOffset)*.5+.5)*.4}draw(t){if(this.height<=0)return;const i=t.canvas.height*.55,r=t.createLinearGradient(this.x,i,this.x,i-this.height);r.addColorStop(0,`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 0)`),r.addColorStop(.5,`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${this.opacity})`),r.addColorStop(1,`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 0)`),t.fillStyle=r,t.beginPath(),t.ellipse(this.x,i-this.height/2,this.radiusX,this.height/2,0,0,Math.PI*2),t.fill()}}return I(()=>{const d=o.value;if(!d)return;const t=d.getContext("2d");if(!t)return;const i=document.createElement("canvas"),r=i.getContext("2d");let g=[],m=[],u=0;const v=(a,n,h)=>{if(!a)return;const c=a.createLinearGradient(0,0,0,h);c.addColorStop(0,"rgba(0, 0, 26, 0.7)"),c.addColorStop(.7,"rgba(0, 0, 51, 0.2)"),c.addColorStop(1,"rgba(0, 0, 51, 0.05)"),a.fillStyle=c,a.fillRect(0,0,n,h),a.fillStyle="#101018",a.beginPath(),a.moveTo(0,h);let s=h*.55;a.lineTo(0,s);for(let p=0;p<n;p++)p%100===0&&(s=h*.55-Math.random()*40),a.lineTo(p,s+Math.sin(p*.1)*2);a.lineTo(n,h),a.fill()},b=(a,n)=>{if(!r)return;d.width=a,d.height=n,i.width=a,i.height=n,g=[],m=[];for(let s=0;s<200;s++)g.push(new l(a,n));const h=[{r:75,g:255,b:150,a:.5},{r:200,g:100,b:255,a:.5},{r:100,g:220,b:255,a:.5}],c=60;for(let s=0;s<c;s++){const p=a/c*s,C=h[Math.floor(Math.random()*h.length)];m.push(new y(p,a,n,C))}v(r,a,n)};let M;const S=()=>{t.globalCompositeOperation="source-over",t.drawImage(i,0,0),g.forEach(a=>a.draw(t)),t.globalCompositeOperation="lighter",m.forEach(a=>{a.update(u),a.draw(t)}),u++,M=requestAnimationFrame(S)};b(window.innerWidth,window.innerHeight),S();const w=()=>{b(window.innerWidth,window.innerHeight)};window.addEventListener("resize",w),O(()=>{cancelAnimationFrame(M),window.removeEventListener("resize",w)})}),(d,t)=>(E(),A("canvas",{ref_key:"canvasRef",ref:o,class:"celebration-canvas"},null,512))}}),T=B(H,[["__scopeId","data-v-1e64e137"]]);export{T as default};
