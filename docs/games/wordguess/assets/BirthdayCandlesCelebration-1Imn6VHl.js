var M=Object.defineProperty;var b=(d,n,o)=>n in d?M(d,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[n]=o;var t=(d,n,o)=>(b(d,typeof n!="symbol"?n+"":n,o),o);import{d as H,h as v,o as P,i as k,b as _,c as C,j as Y}from"./index-z7ELfYwV.js";const O=H({__name:"BirthdayCandlesCelebration",setup(d){const n=v(null);class o{constructor(i,a){t(this,"x");t(this,"y");t(this,"radiusX");t(this,"radiusY");t(this,"color");t(this,"speed");t(this,"swayOffset");this.x=Math.random()*i,this.y=a+Math.random()*100,this.radiusX=Math.random()*15+20,this.radiusY=this.radiusX*1.2;const e=["#ff4e4e","#4e9aff","#4eff4e","#ffdb4e","#ff4e9a","#9a4eff"];this.color=e[Math.floor(Math.random()*e.length)],this.speed=Math.random()*1+.5,this.swayOffset=Math.random()*Math.PI*2}update(i){this.y-=this.speed,this.x+=Math.sin(i*.05+this.swayOffset)*.5}draw(i,a){i.fillStyle=this.color,i.globalAlpha=1,i.beginPath(),i.ellipse(this.x,this.y,this.radiusX,this.radiusY,0,0,Math.PI*2),i.fill(),i.fillStyle="rgba(255, 255, 255, 0.4)",i.beginPath(),i.ellipse(this.x-this.radiusX*.3,this.y-this.radiusY*.4,this.radiusX*.3,this.radiusY*.3,-Math.PI/4,0,Math.PI*2),i.fill(),i.fillStyle=this.color,i.beginPath(),i.moveTo(this.x-this.radiusX*.2,this.y+this.radiusY),i.lineTo(this.x+this.radiusX*.2,this.y+this.radiusY),i.lineTo(this.x,this.y+this.radiusY+5),i.closePath(),i.fill(),i.beginPath(),i.strokeStyle="#888",i.lineWidth=2,i.moveTo(this.x,this.y+this.radiusY+5);const e=60,s=20;for(let l=0;l<=s;l++){const u=this.y+this.radiusY+5+l/s*e,g=l/s,c=Math.sin(l*.25+a*.05+this.swayOffset)*4*g;i.lineTo(this.x+c,u)}i.stroke()}}class y{constructor(i,a,e){t(this,"x");t(this,"y");t(this,"size");t(this,"flickerOffset");this.x=i,this.y=a,this.size=e,this.flickerOffset=Math.random()*Math.PI*2}draw(i,a){const e=Math.sin(a*.3+this.flickerOffset)*(this.size*.2),s=this.size+e;i.globalCompositeOperation="lighter",i.fillStyle="rgba(255, 165, 0, 0.7)",i.beginPath(),i.ellipse(this.x,this.y,s*.8,s*1.5,0,0,Math.PI*2),i.fill(),i.fillStyle="rgba(255, 255, 100, 1)",i.beginPath(),i.ellipse(this.x,this.y,s*.4,s,0,0,Math.PI*2),i.fill(),i.globalCompositeOperation="source-over"}}class p{constructor(i,a){t(this,"x");t(this,"y");t(this,"width");t(this,"maxHeight");t(this,"color");t(this,"wickHeight",5);t(this,"flame",null);t(this,"currentHeight",0);t(this,"isGrown",!1);this.x=i,this.width=15,this.maxHeight=Math.random()*50+80,this.y=a-this.maxHeight;const e=["#ff69b4","#add8e6","#90ee90","#f0e68c","#dda0dd"];this.color=e[Math.floor(Math.random()*e.length)]}update(){this.isGrown||(this.currentHeight+=(this.maxHeight-this.currentHeight)*.1,Math.abs(this.maxHeight-this.currentHeight)<.5&&(this.currentHeight=this.maxHeight,this.isGrown=!0))}light(){this.flame||(this.flame=new y(this.x,this.y-this.wickHeight,8))}draw(i,a){var e;i.fillStyle=this.color,i.fillRect(this.x-this.width/2,i.canvas.height-this.currentHeight,this.width,this.currentHeight),i.fillStyle="rgba(255, 255, 255, 0.5)";for(let s=0;s<this.currentHeight;s+=15)i.fillRect(this.x-this.width/2,i.canvas.height-s-10,this.width,5);this.isGrown&&(i.fillStyle="#333",i.fillRect(this.x-1,i.canvas.height-this.currentHeight-this.wickHeight,2,this.wickHeight)),(e=this.flame)==null||e.draw(i,a)}}return P(()=>{const h=n.value;if(!h)return;const i=h.getContext("2d");if(!i)return;h.width=window.innerWidth,h.height=window.innerHeight;let a=[],e=[],s=0,l=0;const u=()=>{a=[],e=[];const f=Math.floor(h.width/40),r=h.width/(f+1);for(let w=0;w<f;w++)a.push(new p((w+1)*r,h.height));l=0};u();let g;const c=()=>{i.clearRect(0,0,h.width,h.height),s%80===0&&e.push(new o(h.width,h.height)),e.forEach(r=>{r.update(s),r.draw(i,s)}),e=e.filter(r=>r.y>-r.radiusY*2);let f=!0;a.forEach(r=>{r.update(),r.draw(i,s),r.isGrown||(f=!1)}),f&&l<a.length&&s%10===0&&(a[l].light(),l++),s++,g=requestAnimationFrame(c)};c();const m=()=>{h.width=window.innerWidth,h.height=window.innerHeight,u()};window.addEventListener("resize",m),k(()=>{cancelAnimationFrame(g),window.removeEventListener("resize",m)})}),(h,i)=>(_(),C("canvas",{ref_key:"canvasRef",ref:n,class:"celebration-canvas"},null,512))}}),z=Y(O,[["__scopeId","data-v-e9f53575"]]);export{z as default};
