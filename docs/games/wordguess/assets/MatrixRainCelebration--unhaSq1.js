var y=Object.defineProperty;var b=(r,e,t)=>e in r?y(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var i=(r,e,t)=>(b(r,typeof e!="symbol"?e+"":e,t),t);import{d as C,h as x,o as R,i as k,b as E,c as z,j as A}from"./index-z7ELfYwV.js";const F=C({__name:"MatrixRainCelebration",setup(r){const e=x(null);return R(()=>{const t=e.value;if(!t)return;const h=t.getContext("2d");if(!h)return;t.width=window.innerWidth,t.height=window.innerHeight;const o="アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン",s=18;let l=Math.floor(t.width/s);class m{constructor(n){i(this,"x");i(this,"y");i(this,"speed");i(this,"length");i(this,"characters",[]);this.x=n,this.y=Math.random()*-500,this.speed=Math.random()*3+4,this.length=Math.floor(Math.random()*40+50),this.generateCharacters()}generateCharacters(){this.characters=[];for(let n=0;n<this.length;n++)this.characters.push(o[Math.floor(Math.random()*o.length)])}draw(n){const M=this.y;this.characters.forEach((_,d)=>{const f=M-d*s;if(f>0&&f<n.canvas.height){const u=d===0,v=1-d/this.length*.9;n.fillStyle=u?"#c8ffc8":"#0F0",n.globalAlpha=u?1:v,n.fillText(_,this.x,f)}}),this.y+=this.speed,this.y-this.length*s>n.canvas.height&&(this.y=0,this.speed=Math.random()*4+1,this.length=Math.floor(Math.random()*20+10),this.generateCharacters()),Math.random()>.98&&(this.characters[0]=o[Math.floor(Math.random()*o.length)])}}let c=[];for(let a=0;a<l;a++)c.push(new m(a*s));let g;const p=()=>{h.clearRect(0,0,t.width,t.height),h.font=`${s}px monospace`,c.forEach(a=>a.draw(h)),h.globalAlpha=1,g=requestAnimationFrame(p)};p();const w=()=>{t.width=window.innerWidth,t.height=window.innerHeight,l=Math.floor(t.width/s),c=[];for(let a=0;a<l;a++)c.push(new m(a*s))};window.addEventListener("resize",w),k(()=>{cancelAnimationFrame(g),window.removeEventListener("resize",w)})}),(t,h)=>(E(),z("canvas",{ref_key:"canvasRef",ref:e,class:"celebration-canvas"},null,512))}}),S=A(F,[["__scopeId","data-v-54ab0eec"]]);export{S as default};
